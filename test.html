<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const players = ["mumu", "soe", "poe", "kai", "mine"];
      const callings = ["kai", "kai", "mine", "mine"];
      let answer = [...players];
      const playerMap = {};

      for (let i = 0; i < players.length; i++) {
        playerMap[players[i]] = i;
      }

      for (let i = 0; i < callings.length; i++) {
        const callPlayer = callings[i];
        const callIdx = playerMap[callPlayer];
        const prevIdx = callIdx - 1;
        const prevPlayer = answer[prevIdx];

        [answer[callIdx], answer[prevIdx]] = [prevPlayer, callPlayer];
        [playerMap[callPlayer], playerMap[prevPlayer]] = [prevIdx, callIdx];
      }

      console.log(playerMap);
      console.log(answer);
    </script>
  </body>
</html>
